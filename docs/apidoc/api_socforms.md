# Запросы к базе социальных формирований

----
[Описание системы](../index.md) ➞ [Документация API](index.md) ➞ Запросы к базе социальных формирований

----

## База социальных формирований

База рас представляет собой набор карточек данных о расах. Модель этой структуры данных описана в сведениях о [карточке расы](../datadoc/socform_card.md).

----

## Методы API

*Графа "ответ" в таблицах ниже не упоминает возврат кода состояния HTTP.*
*Знак вопроса после имени параметра означает, что данный параметр необязателен для осуществления запроса.*
<br/><br/>

### Запрос данных о социальных формированиях

**Доступ:** требуется аутентификация.

|	Адрес метода				|	Тип запроса			|	Параметры			| Ответ
|	:----:						|	:----:				|	:----:				| :----:
| **/api/socforms/get**			|	GET					| id					| JSON:<br/>socform data

**Значения параметров:**
* `id` : уникальный ID социального формирования.

Метод возвращает `socform data` - набор данных о социальном формировании по запрошенному ID. Эти данные содержат значения полей, описанных в [карточке социального формирования](../datadoc/socform_card.md) и помеченных как выходные *(Out)*. Текущий метод возвращает все возможные данные о социальном формировании.
<br/><br/>

### Запрос списка социальных формирований

**Доступ:** требуется аутентификация.

|	Адрес метода				|	Тип запроса			|	Параметры			| Ответ
|	:----:						|	:----:				|	:----:				| :----:
| **/api/socforms/list**		|	GET					| count?<br/>from?		| JSON:<br/>socforms list

**Значения параметров:**
* `count` : количество социальных формирований, которые вернёт запрос;
* `from` : начиная с какого по счёту социального формирования запрос вернёт список *(счёт определяется реальным размером получаемого списка, а не значением ID социального формирования)*.

Метод вернёт список `count` социальных формирований и/или начиная с `from`-ого, если соответствующие параметры указаны. В противном случае вернёт список всех социальных формирований.

Возвращаемые данные - `socforms list` - содержат значения полей `Id` и `Name` каждого социального формирования.
<br/><br/>

### Поиск социального формирования по названию

**Доступ:** требуется аутентификация.

|	Адрес метода				|	Тип запроса			|	Параметры			| Ответ
|	:----:						|	:----:				|	:----:				| :----:
| **/api/socforms/find**		|	GET					| name					| JSON:<br/>socforms list

**Значения параметров:**
* `name` : искомая часть названия социального формирования.

Метод вернёт список всех социальных формирований, названия которых содержат указываемую при запросе искомую подстроку `name`.

Возвращаемые данные - `socforms list` - содержат значения полей `Id` и `Name` каждого социального формирования.
<br/><br/>

### Добавление нового социального формирования

**Доступ:** для редакторов.

|	Адрес метода				|	Тип запроса			|	Параметры			| Ответ
|	:----:						|	:----:				|	:----:				| :----:
| **/api/socforms/list**		|	POST				| socform_data			| —

**Значения параметров:**
* `socform_data` : значения полей, описанных в [карточке социального формирования](../datadoc/socform_card.md) и помеченных как входные *(In)*.

Для успешного добавления социального формирования должны быть указаны все обязательные поля.
<br/><br/>

### Изменение данных социального формирования

**Доступ:** для редакторов.

|	Адрес метода				|	Тип запроса			|	Параметры			| Ответ
|	:----:						|	:----:				|	:----:				| :----:
| **/api/socforms/change**		|	POST				| socform_data			| —

**Значения параметров:**
* `socform_data` : значения полей, описанных в [карточке социального формирования](../datadoc/socform_card.md) и помеченных как входные *(In)*, а также значение поля `Id` социального формирования, для которого осуществляется запрос изменения данных.

Для успешного изменения данных социального формирования требуется указать корректный ID изменяемого социального формирования и корректные значения данных изменяемых полей. Изменены могут быть любые из доступных к изменению (помеченных как входные в [карточке социального формирования](../datadoc/socform_card.md)) полей.
<br/><br/>

### Удаление социального формирования

**Доступ:** для редакторов.

|	Адрес метода				|	Тип запроса			|	Параметры			| Ответ
|	:----:						|	:----:				|	:----:				| :----:
| **/api/socforms/remove**		|	GET					| id					| —

**Значения параметров:**
* `id` : уникальный ID социального формирования.

Для успешного удаления требуется указать корректный ID удаляемой расы.
<br/><br/>

### Запрос списка отсортированных социальных формирований

**Доступ:** требуется аутентификация.

|	Адрес метода				|	Тип запроса			|	Параметры			| Ответ
|	:----:						|	:----:				|	:----:				| :----:
| **/api/socforms/sortedlist**	|	GET					| count?<br/>from?		| JSON:<br/>socforms list

**Значения параметров:**
* `count` : количество социальных формирований, которые вернёт запрос;
* `from` : начиная с какого по счёту социального формирования запрос вернёт список *(счёт определяется реальным размером получаемого списка, а не значением ID социального формирования)*.

Метод вернёт список `count` социальнфх формирований и/или начиная с `from`-ой, если соответствующие параметры указаны. В противном случае вернёт список всех социальных формирований.

Список социальных формирований будет отсортирован по названию в алфавитном порядке *(сортировка осуществляется до применения параметров запроса: отбор количества и начального для результата социального формирования происходит уже на отсортированном списке)*.

Возвращаемые данные - `socforms list` - содержат значения полей `Id` и `Name` каждого социального формирования.
<br/><br/>
